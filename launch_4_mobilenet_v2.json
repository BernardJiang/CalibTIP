{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python: Current File",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "justMyCode": true,
            // Mobilenetv2 ============================================================================
            // 4 bit 
            // step 1: 
            // "args": ["--model", "mobilenet_v2", "--save", "mobilenet_v2_w4a8.adaquant", "-b", "128", "-lfv", "mobilenet_v2", "--model-config", "{'batch_norm': False}"],
            // step 2: 
            // "args": ["--model", "mobilenet_v2", "--nbits_weight", "4", "--nbits_act", "8", "--num-sp-layers", "-1", "--evaluate", "/workspace/develop/CalibTIP/results/mobilenet_v2_w4a8.adaquant/mobilenet_v2.absorb_bn", "--model-config", "{'batch_norm': False,'measure': True, 'perC': True}", "-b", "128", "--rec", "--dataset", "imagenet_calib", "--datasets-dir", "/workspace/develop/dataset", "-lpj", "/workspace/develop/CalibTIP/results/mobilenet_v2_w4a8.adaquant/mobilenetv2_adaquant.piano.kdp530.scaled.onnx.json"],
            // step 3: 
            // "args": ["--optimize-weights", "--nbits_weight", "4", "--nbits_act", "8", "--num-sp-layers", "-1", "--model", "mobilenet_v2", "-b", "32", "--evaluate", "/workspace/develop/CalibTIP/results/mobilenet_v2_w4a8.adaquant/mobilenet_v2.absorb_bn.measure_perC", "--model-config", "{'batch_norm': False,'measure': False, 'perC': True}", "--dataset", "imagenet_calib", "--datasets-dir", "/workspace/develop/dataset", "--adaquant", "--res_log", "/workspace/develop/CalibTIP/results/mobilenet_v2_w4a8.adaquant/mobilenet_v2.absorb_bn.measure_perC.adaquant.csv"],

            // 8 bit 
            // step 1: 
            // "args": ["--model", "mobilenet_v2", "--save", "mobilenet_v2_w8a8.adaquant", "-b", "128", "-lfv", "mobilenet_v2", "--model-config", "{'batch_norm': False}"],
            // step 2: 
            // "args": ["--model", "mobilenet_v2", "--nbits_weight", "8", "--nbits_act", "8", "--num-sp-layers", "-1", "--evaluate", "/workspace/develop/CalibTIP/results/mobilenet_v2_w8a8.adaquant/mobilenet_v2.absorb_bn", "--model-config", "{'batch_norm': False,'measure': True, 'perC': True}", "-b", "128", "--rec", "--dataset", "imagenet_calib", "--datasets-dir", "/workspace/develop/dataset", "-lpj", "/workspace/develop/CalibTIP/results/mobilenet_v2_w8a8.adaquant/mobilenetv2_adaquant.piano.kdp530.scaled.onnx.json"],
            // step 3: 
            // "args": ["--optimize-weights", "--nbits_weight", "8", "--nbits_act", "8", "--num-sp-layers", "-1", "--model", "mobilenet_v2", "-b", "32", "--evaluate", "/workspace/develop/CalibTIP/results/mobilenet_v2_w8a8.adaquant/mobilenet_v2.absorb_bn.measure_perC", "--model-config", "{'batch_norm': False,'measure': False, 'perC': True}", "--dataset", "imagenet_calib", "--datasets-dir", "/workspace/develop/dataset", "--adaquant", "--res_log", "/workspace/develop/CalibTIP/results/mobilenet_v2_w8a8.adaquant/mobilenet_v2.absorb_bn.measure_perC.adaquant.csv"],

            //step 4: IP main.py
            // "args": ["--model", "mobilenet_v2", "--evaluate", "/workspace/develop/CalibTIP/results/mobilenet_v2_w8a8.adaquant/mobilenet_v2.absorb_bn.measure_perC.adaquant", "--model-config", "{'batch_norm': False,'measure': False, 'perC': True, 'depth': 50}", "-b", "100", "--dataset", "imagenet_calib", "--datasets-dir", "/workspace/develop/dataset", "--int8_opt_model_path", "/workspace/develop/CalibTIP/results/mobilenet_v2_w8a8.adaquant/mobilenet_v2.absorb_bn.measure_perC.adaquant", "--int4_opt_model_path", "/workspace/develop/CalibTIP/results/mobilenet_v2_w4a8.adaquant/mobilenet_v2.absorb_bn.measure_perC.adaquant", "--names-sp-layers", "--per-layer"],
            // step 5: mpip_compression_pytorch_multi.py
            "args": ["--model", "mobilenet_v2", "--model_vis", "mobilenet_v2", "--ip_method", "loss", "--precisions", "8;8;4;8", "--layer_by_layer_files", "/workspace/develop/CalibTIP/results/mobilenet_v2_w8a8.adaquant/mobilenet_v2.absorb_bn.measure_perC.adaquant.per_layer_accuracy.A4.W4.csv", "--min_compression", "0.13", "--max_compression", "0.25", "--datasets-dir", "/workspace/develop/dataset", "--results-dir", "/workspace/develop/CalibTIP/results"],


        }
    ]
}